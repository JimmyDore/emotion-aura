# Requirements Archive: v1.0 Emotion Aura

**Archived:** 2026-02-07
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Emotion Aura

**Defined:** 2026-02-06
**Core Value:** The webcam feed must detect emotions and render reactive particles in real-time with fluid, visually impressive results.

## v1 Requirements

Requirements for initial release. Each maps to roadmap phases.

### Camera & Setup

- [x] **CAM-01**: User can open webcam and see mirrored live feed in the browser
- [x] **CAM-02**: User sees clear permission prompt explaining why camera access is needed before browser asks
- [x] **CAM-03**: User sees helpful error messages when camera is denied, unavailable, or in use
- [x] **CAM-04**: User sees a loading screen with progress while ML models (~9MB) download
- [x] **CAM-05**: User on mobile device sees a "best experienced on desktop" message instead of a broken experience

### Emotion Detection

- [x] **EMO-01**: User's face is detected in real-time via MediaPipe FaceLandmarker
- [x] **EMO-02**: User's emotion is classified into one of 5 categories: happy, sad, angry, surprised, neutral
- [x] **EMO-03**: Emotion transitions are smooth (particles morph between states over ~1-2 seconds, no jarring snaps)
- [x] **EMO-04**: Emotion intensity scales with expression strength (wider smile = more intense happy particles)
- [x] **EMO-05**: When no face is detected, particles default to calm neutral state

### Particle System

- [x] **PRT-01**: Organic/fluid particle system renders with custom GLSL shaders (soft edges, light trails, additive blending)
- [x] **PRT-02**: Happy emotion triggers warm, colorful, lively particles (gold/pink tones, upward movement)
- [x] **PRT-03**: Sad emotion triggers cool, slow particles (blue tones, rain-like downward movement)
- [x] **PRT-04**: Angry emotion triggers aggressive, fast particles (red/orange tones, flame-like movement)
- [x] **PRT-05**: Surprised emotion triggers burst/explosion effect (cyan/yellow tones, outward radial burst)
- [x] **PRT-06**: Neutral emotion triggers calm, subtle ambient particles (grey/silver tones, gentle drift)
- [x] **PRT-07**: Particles spawn from around the user's face position, not from random screen positions
- [x] **PRT-08**: Particle system auto-adjusts quality (count, effects) if FPS drops below 30

### Hand Gestures

- [x] **GES-01**: User's hands are detected in real-time via MediaPipe HandLandmarker
- [x] **GES-02**: Open hand gesture pushes particles away from hand position
- [x] **GES-03**: Closed fist gesture attracts particles toward hand position
- [x] ~~**GES-04**: Pinch gesture concentrates particles into a tight point at hand position~~ (Removed by user decision — simplified to push + attract)
- [x] **GES-05**: Gesture is visually indicated on screen (small icon or label showing detected gesture)
- [x] **GES-06**: Gestures require ~150ms stability before activating (no false triggers during transitions)

### Performance & Polish

- [x] **PRF-01**: Application maintains 30+ FPS with face detection, emotion classification, and particle rendering active
- [x] **PRF-02**: Application maintains 30+ FPS with hand detection added (via staggered ML inference)
- [x] **PRF-03**: Application works in Chrome, Firefox, and Safari (desktop)
- [x] **PRF-04**: UI is polished with clean layout, smooth animations, portfolio-worthy finish
- [x] **PRF-05**: All coordinate mappings are correct (mirrored webcam + MediaPipe landmarks align with particle positions)

## v2 Requirements

Deferred to future release. Tracked but not in current roadmap.

### Visual Enhancements

- **VIS-01**: Multiple particle visual themes (nebula, fireflies, ink in water) with keyboard shortcut to cycle
- **VIS-02**: Post-processing bloom/glow effects via Three.js EffectComposer
- **VIS-03**: Particle trails (fading ribbons of light following particle movement)

### UX Enhancements

- **UX-01**: Debug overlay (FPS counter, emotion confidence, landmark visualization) behind a dev flag
- **UX-02**: Onboarding calibration phase that teaches user how to trigger emotions and use gestures
- **UX-03**: Screenshot/snapshot capture for sharing

## Out of Scope

| Feature | Reason |
|---------|--------|
| Multiple face detection | Doubles ML cost, complicates gesture attribution, single-user experience |
| Audio/sound effects | Scope creep, separate domain, autoplay is hostile UX |
| Video recording/export | Complex, CPU-intensive, browser-inconsistent |
| User accounts / persistence | No backend needed, ephemeral experience |
| Mobile support | Mobile GPU can't handle ML + particles at 30fps, touch conflicts with gesture detection |
| Server-side ML processing | Adds latency, privacy concerns, infrastructure cost |
| Custom gesture training | Massive complexity, 3 gestures are sufficient and intuitive |
| Complex UI controls/settings | Turns demo into science experiment, kills the "wow" moment |
| Emotion history/analytics | Shifts from artistic experience to surveillance tool |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| CAM-01 | Phase 1 | Complete |
| CAM-02 | Phase 1 | Complete |
| CAM-03 | Phase 1 | Complete |
| CAM-04 | Phase 1 | Complete |
| CAM-05 | Phase 1 | Complete |
| EMO-01 | Phase 2 | Complete |
| EMO-02 | Phase 2 | Complete |
| EMO-03 | Phase 2 | Complete |
| EMO-04 | Phase 2 | Complete |
| EMO-05 | Phase 2 | Complete |
| PRT-01 | Phase 3 | Complete |
| PRT-02 | Phase 3 | Complete |
| PRT-03 | Phase 3 | Complete |
| PRT-04 | Phase 3 | Complete |
| PRT-05 | Phase 3 | Complete |
| PRT-06 | Phase 3 | Complete |
| PRT-07 | Phase 3 | Complete |
| PRT-08 | Phase 3 | Complete |
| GES-01 | Phase 4 | Complete |
| GES-02 | Phase 4 | Complete |
| GES-03 | Phase 4 | Complete |
| GES-04 | Phase 4 | Removed |
| GES-05 | Phase 4 | Complete |
| GES-06 | Phase 4 | Complete |
| PRF-01 | Phase 5 | Complete |
| PRF-02 | Phase 5 | Complete |
| PRF-03 | Phase 5 | Complete |
| PRF-04 | Phase 5 | Complete |
| PRF-05 | Phase 5 | Complete |

**Coverage:**
- v1 requirements: 29 total
- Satisfied: 28
- Removed: 1 (GES-04 — by user decision)
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 28 of 29 v1 requirements (1 intentionally removed)
**Adjusted:** GES-04 (pinch gesture) removed by user decision — simplified gesture set to push + attract only
**Dropped:** None

---
*Archived: 2026-02-07 as part of v1.0 milestone completion*
